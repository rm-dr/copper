{
	"job_id": "audiofile",
	"input": {
		"file_data": {
			"type": "Blob",
			"object_key": "Avril Lavigne - Complicated.flac"
		}
	},
	"pipeline": {
		"edges": {
			"in-strip": {
				"source": {
					"node": "input",
					"port": "out"
				},
				"target": {
					"node": "strip",
					"port": "data"
				}
			},
			"in-tags": {
				"source": {
					"node": "input",
					"port": "out"
				},
				"target": {
					"node": "tags",
					"port": "data"
				}
			},
			"in-cover": {
				"source": {
					"node": "input",
					"port": "out"
				},
				"target": {
					"node": "cover",
					"port": "data"
				}
			},
			"strip-hash": {
				"source": {
					"node": "strip",
					"port": "out"
				},
				"target": {
					"node": "hash",
					"port": "data"
				}
			},
			"strip-add": {
				"source": {
					"node": "strip",
					"port": "out"
				},
				"target": {
					"node": "addaudio",
					"port": "audio_data"
				}
			},
			"hash-add": {
				"source": {
					"node": "hash",
					"port": "hash"
				},
				"target": {
					"node": "addaudio",
					"port": "audio_hash"
				}
			},
			"cover-coverhash": {
				"source": {
					"node": "cover",
					"port": "cover_data"
				},
				"target": {
					"node": "coverhash",
					"port": "data"
				}
			},
			"coverhash-add": {
				"source": {
					"node": "coverhash",
					"port": "hash"
				},
				"target": {
					"node": "addcover",
					"port": "content_hash"
				}
			},
			"cover-add": {
				"source": {
					"node": "cover",
					"port": "cover_data"
				},
				"target": {
					"node": "addcover",
					"port": "image"
				}
			},
			"link-cover": {
				"source": {
					"node": "addcover",
					"port": "new_item"
				},
				"target": {
					"node": "addaudio",
					"port": "cover_art"
				}
			},
			"tag-title": {
				"source": {
					"node": "tags",
					"port": "Title"
				},
				"target": {
					"node": "addaudio",
					"port": "title"
				}
			},
			"tag-album": {
				"source": {
					"node": "tags",
					"port": "Album"
				},
				"target": {
					"node": "addaudio",
					"port": "album"
				}
			},
			"tag-artist": {
				"source": {
					"node": "tags",
					"port": "Artist"
				},
				"target": {
					"node": "addaudio",
					"port": "artist"
				}
			},
			"tag-albumartist": {
				"source": {
					"node": "tags",
					"port": "AlbumArtist"
				},
				"target": {
					"node": "addaudio",
					"port": "albumartist"
				}
			},
			"tag-tracknumber": {
				"source": {
					"node": "tags",
					"port": "TrackNumber"
				},
				"target": {
					"node": "addaudio",
					"port": "tracknumber"
				}
			},
			"tag-year": {
				"source": {
					"node": "tags",
					"port": "Year"
				},
				"target": {
					"node": "addaudio",
					"port": "year"
				}
			},
			"tag-genre": {
				"source": {
					"node": "tags",
					"port": "Genre"
				},
				"target": {
					"node": "addaudio",
					"port": "genre"
				}
			},
			"tag-isrc": {
				"source": {
					"node": "tags",
					"port": "ISRC"
				},
				"target": {
					"node": "addaudio",
					"port": "ISRC"
				}
			},
			"tag-lyrics": {
				"source": {
					"node": "tags",
					"port": "Lyrics"
				},
				"target": {
					"node": "addaudio",
					"port": "lyrics"
				}
			}
		},
		"nodes": {
			"input": {
				"node_type": "Input",
				"params": {
					"input_name": {
						"parameter_type": "String",
						"value": "file_data"
					}
				}
			},
			"strip": {
				"node_type": "StripTags"
			},
			"cover": {
				"node_type": "ExtractCovers"
			},
			"tags": {
				"node_type": "ExtractTags",
				"params": {
					"tags": {
						"parameter_type": "List",
						"value": [
							{ "parameter_type": "String", "value": "Title" },
							{ "parameter_type": "String", "value": "Album" },
							{ "parameter_type": "String", "value": "Artist" },
							{ "parameter_type": "String", "value": "Year" },
							{ "parameter_type": "String", "value": "Genre" },
							{ "parameter_type": "String", "value": "ISRC" },
							{ "parameter_type": "String", "value": "Lyrics" },
							{
								"parameter_type": "String",
								"value": "AlbumArtist"
							},
							{
								"parameter_type": "String",
								"value": "TrackNumber"
							}
						]
					}
				}
			},
			"hash": {
				"node_type": "Hash",
				"params": {
					"hash_type": {
						"parameter_type": "String",
						"value": "SHA256"
					}
				}
			},
			"coverhash": {
				"node_type": "Hash",
				"params": {
					"hash_type": {
						"parameter_type": "String",
						"value": "SHA256"
					}
				}
			},
			"addaudio": {
				"node_type": "AddItem",
				"params": {
					"class": { "parameter_type": "Integer", "value": 2 }
				}
			},
			"addcover": {
				"node_type": "AddItem",
				"params": {
					"class": { "parameter_type": "Integer", "value": 1 }
				}
			}
		}
	}
}
